<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="/assets/css/main0004.css">

    <title>Deciding to Write My Own Website Generator</title>


    <meta name="description" content="This post explains why I have decided to write own website generator."/>


    </head>

    <body>
        <div class="container">
            
                        
<header>
    <p class="head-title"><a href="/">Retired... Not Out</a></p>
</header>

            
<nav>
    <a class="nav-hdr  " href="/">Home</a>
    <a class="nav-hdr  " href="/blog/">Blog</a>
    <a class="nav-hdr  " href="/about">About</a>
    <a class="nav-hdr  " href="/contact">Contact</a>
</nav>


            <section>
                <div>
                    <p class="bd-left">
                        Paul Chappell
                    </p>
                    <p class="bd-right">
                        Monday 28 December 2020
                    </p>
                </div>

                <div class="bd-reset">
                    <h1>Deciding to Write My Own Website Generator</h1>
<p>Until this website, all my sites were built with Asp.Net Core Razor pages. However, there are problems with this approach, it requires a lot of programming expertise and it’s nigh on impossible for people without these skills to be able to add content to a website. It’s even difficult for me!</p>
<p>For this blog and future websites. I need a new approach. I still want to write the HTML, CSS and Java Script myself, so that I get exactly what I want, and the performance I require (preferable sub-second rendering times). But I need an easier way to publish content, one that doesn’t require programming skills or a knowledge of HTML and CSS.</p>
<h2>Content Management Systems (CMS)</h2>
<p>Years ago, I eliminated Word Press as an option, I just didn’t like it, it seemed bloated to me. I still don’t like it and I don’t intend to start using it now. I’ve looked at some of the other Content Management Systems, like Drupal and Joomla, again, I just don’t like them.</p>
<p>I looked at <a href="https://ghost.org/">Ghost</a> and sort of liked it, but it’s expensive, currently $29 a month for a small blog. You can host it yourself (it’s open source); but you need a web server, and the blogs are stored on a database, which needs to be backed up. I quickly realised that Ghost wasn’t going to work for me either, even though it could be used as a headless CMS, one of the things that attracted me to it.</p>
<p>CMSs are good because they allow users who have no knowledge of HTML to easily add content to their website, and then publish it. However, I’m concerned about their efficiency and the size of web server needed to run them.</p>
<p>Also, I don’t like the fact that the content is stored in a database, which means that the site’s web pages have to be dynamically created on a web server. There can also be issues with backing up the database, something that is very, very important.</p>
<p>Because I’m now into writing high performance code and low-cost hosting (more about this in my <a href="/blog/hosting-a-website-inexpensively">next post</a>), CMSs are not the way I wish to go.</p>
<h2>Markdown</h2>
<p>Investigating Ghost led me to Markdown, more about it <a href="https://www.markdownguide.org/getting-started">here</a>.</p>
<p>I quickly realised that this was what I wanted to use to write content. It means content can be written with a text editor such as Atom or Visual Studio Code. Backups won’t be a problem as there is no database (unless you don’t regularly backup the contents of your computer). And there is no need to understand HTML or CSS.</p>
<p>The problem was converting the markdown into HTML that I could use within my Asp.Net based websites. If this could be done, I could still use Asp.Net to develop a website. But the content could be written independently, allowing people with no programming skills to be able to write it. I needed a markdown processor for the .Net world.</p>
<p>A bit of research found <a href="https://github.com/lunet-io/markdig">MarkDig</a>, a markdown processor written for .Net, it was just what I needed, it was perfect. I also liked the way it was extensible; I could specify my own markdown.</p>
<p>Markdown has a syntax to learn, but it’s not difficult. With a decent website generator, as you write the content, you should be able to see the result in a browser.</p>
<h2>Static Website Generators</h2>
<p>My other problem was that the level of skill required to write an Asp.Net based website is high. There are a lot of people out there writing small websites, but very few are using Asp.Net. This becomes a problem if someone else needs to maintain the website, the new developer also needs to understand Asp.Net and C#.</p>
<p>Around the time I discovered markdown I also discovered <a href="https://www.netlify.com/blog/2020/04/14/what-is-a-static-site-generator-and-3-ways-to-find-the-best-one/">static website generators</a>.</p>
<p>These can be used by people who want a website, but do not have the skills needed to write it, and do not have the funds to pay someone to do it. All you need to do is obtain a suitable theme for your site. There are many themes available for the common website generators, some are free, and some have to be purchased. Once you have a suitable theme, you then configure it and start writing your content in markdown.</p>
<p>Because I want full control over the look, feel and performance of my websites I want to write my own themes, rather than use other peoples. To do this, you still need an understanding of HTML, CSS and Java Script. You also need to understand the templating language used by the generator. There are a number of these, for example <a href="https://shopify.github.io/liquid/">Liquid</a> and [Go]/(https://gohugo.io/templates/introduction/) (as used by the Hugo website generator). There is no need to know a complicated programming language like C#, or the .Net Framework.</p>
<p>So, I decided to try one, and develop my own theme for this blog.</p>
<p>The first one I looked at was <a href="https://jekyllrb.com/">Jekyll</a>, but I was put off by the Windows 10 installation process. Sorry, but I use Windows 10 and any software that I use, has to be installable on that operating system, EASILY. I never got further than the installation page.</p>
<p>After a bit of research, I settled on <a href="https://gohugo.io/">Hugo</a>, it looked good, everyone said it was fast (it was), and was easy to install on Windows. Developing a theme with the go templating language looked simple enough. The procedures needed to publish posts to the actual website also seemed to be easy enough. I really liked the ability to view my content in a browser as I write it.</p>
<p>I also liked the fact that resultant websites could be hosted on <a href="https://pages.github.com/">GitHub Pages</a> for free, as long as they are fully static.</p>
<p>Unfortunately, I found a number of problems with the templating language and eventually decided that Hugo was no good for me. There is a problem with variable scoping in go templating language. And the only loop was impossible to break out of it, continue at the start of, you can’t even count iterations of it easily. This made it hard to write more complex themes.</p>
<p>A big problem was the fact that all URL’s had to end with a backslash, and this became showstopper.</p>
<p>For a new website this might not be a problem, but for an existing web site it will be. If I went ahead with Hugo, I wanted to move the <a href="https://www.ulverstonfallen.uk/home">Ulverston Fallen</a> website (one I developed) from Asp.Net Core to Hugo. A little bit of research on Search Engine Optimisation showed me that this could be a problem, it seems that Google considers ulverstonfallen.uk/home and ulverstonfallen.uk/home/ to be two different web pages. So, for Ulverston Fallen, there must not be a backslash at the end of the URL. Which makes it difficult to use Hugo.</p>
<p>There’s a lot about this issue <a href="https://github.com/gohugoio/hugo/issues/492">here</a>. OK, I understand some of the arguments, but I live in the real world, and unfortunately, I support a website where the URL paths DO NOT END WITH FORWARDSLASH. Surly it’s not too difficult to make a trailing forwardslash optional.</p>
<h2>What to Do Now</h2>
<p>I could install Jekyll on my computer and try it. Or I could try one of the other website generators out there, there are many.</p>
<p>After the problems I had with go, I looked at the liquid templating language closely and quickly realised that if Hugo had used liquid (and solved my problem with the URLs), I would have been very happy. And my life would not have gone down the path it’s going now!</p>
<p>At one point it crossed my mind, that it might be a good idea to write my own website generator. Then I would get exactly what I want, not what somebody else thinks I want. If I used liquid as the templating language, then hopefully my themes could be used with other website generators (either immediately, or with minor changes). The problem with this approach, is the time it would take me, probably a year or so. But it would be a fun thing for me to do.</p>
<h2>Enter Fluid</h2>
<p>While researching markdown I came across <a href="https://github.com/sebastienros/fluid">Fluid</a>, and everything fell into place. I now had a markdown processor, and a liquid templating language processor, that could be used in .Net, especially the latest release, release 5. I now have the tools required to build a website generator; all I need to do is design and code it.</p>
<p>It’s at this point that I decided I will write my own website generator.</p>
<p>I see this as a project that’ll take a year or two, depending on how much life gets in the way. Along the way, I’ll be writing a diary about designing and building the generator in this blog.</p>
<p>The project will be open source.</p>
<h2>Designing/Building a Website Generator</h2>
<p>The problem now is designing and building it.</p>
<p>I want to be able to view the website, in a browser, as I develop its theme and contents. In order to do this, I’ll be writing a web server that runs on the user’s computer, one that is able to deliver and refresh web pages as they are written. More about this in the web server section below.</p>
<p>But what about writing themes, and the markdown? What about the structure of the files making up a theme, and the files containing the content? How should it all work?</p>
<p>This is the difficult part, that I need to think about. I could use the same approach as Hugo or Jekyll, but then I’d just be duplicating what they’ve done. I’m at a very early stage here, I’ll be writing about this in future posts. I know that I’d like my themes to have dynamic menu’s and some form of Taxonomy (how the pages of a website are connected, classified and organised).</p>
<p>When I wrote the <a href="https://www.ulverstonfallen.uk/home">Ulverston Fallen</a> website I added filtering. This is all done, in the browser, using Java Script and Ajax calls. Apart from the contact page, it’s fully static. I need to be able to add filtering to my themes.</p>
<p>It must also be easy to install and use.</p>
<p>I want to use the generator to build and write content for my blog. I’ll be using this blog and Ulverston Fallen as a test ground for my generator. So, first off, I’m going to write a very basic website generator to give me a feel for MarkDig and Fluid, and a basic blog. Then, over time, I’ll gradually be adding new features, making this blog more and more detailed as I go on.</p>
<p>It will be a niche product. I’m not going to write something that is everything to everybody.</p>
<h2>It’s <em>not</em> going to be a Static Website Generator</h2>
<p>I also want the website generator to be able to build data-driven and dynamic websites. I’m not sure how this is going to work at this stage; it’s early days for this side of the generator. The one thing I do know, is that I’ll be using custom markdown and some form of data-definition language.</p>
<p>Initially, all I want to be able to do in a theme is add simple contact and mailing list sign-up forms. For websites like <a href="https://www.ulverstonfallen.uk/home">Ulverston Fallen</a>, I’d like to be able to store a user’s filter specification on the cloud so it can be returned to, and perform the actual filtering on the web server rather than the client browser.</p>
<p>I also want a sign-in page so that websites can have secure parts to them.</p>
<p>It’s going to be a dynamic website generator.</p>
<p>In order to be able to process dynamic sites and data forms I will be developing my own web server. It’ll be able to deliver static and dynamic content. It’ll also be able to process the various forms of HTTP post backs: post, put, delete etc.</p>
<h2>Web Server</h2>
<p>The web server and website generator will be a single piece of code.</p>
<p>I’m using C# and .Net 5 so that my web server can be used on as many <a href="https://github.com/dotnet/core/blob/master/release-notes/5.0/5.0-supported-os.md">different operating systems</a> as possible, all of the ones supported by the .Net Framework version 5. In order to install the generator, you will need to install .Net 5 on your computer, but that’s easy enough.</p>
<p>It will run in one of two modes, development and production.</p>
<h3>Development Mode</h3>
<p>In this mode, the web server runs on a user’s computer and is used to view a website in one or more browsers, as it is being developed. It will monitor the files making up the website. As they change, the website will be re-built (or re-compiled). It will also automatically add Java Script to each page request, to allow it to check back with the server to see if the page has been changed. If it has, the page will be refreshed.</p>
<p>Browser access to the server will be with a URL of the form ‘http://locathost:5001’ (where 5001 is a configurable port number), entered in its address bar. The editor used to write the website, the web server and the browser must be running on the same machine.</p>
<h3>Production Server</h3>
<p>In this mode, the web server does not monitor the files making up the website and does not add any Java Script to the web page. All it does is process web requests.</p>
<h2>Hosting a Website</h2>
<p>There are many options out there for hosting static websites, some are free and some you have to pay for. The one I really like is GitHub Pages, which can be used to host a site for free, even with a domain name. Because GitHub is owned by Microsoft, it’s also pretty secure. The initial version of this blog was hosted on GitHub pages.</p>
<p>For dynamic websites you need a machine to run the web server on. There are lots of options out there, but they all cost money. Because I like Microsoft’s Azure Cloud, I will be using it to host my dynamic web sites.</p>
<p>I’ll be writing about this in more detail in my next post.</p>


                    <div class="actualPostInfo">
                        <p>Monday 28 December 2020</p>
                        <p>Paul Chappell</p>
                    </div>
                </div>
            </section>
            
            
<footer>
    <p class="fm-left">
        Copyright © 2021 Paul Chappell. All Rights Reserved
    </p>
    <p class="fm-right">
        Hosted by <a href="https://pages.github.com/" target="_blank">GitHub Pages</a>
    </p>
    <div class="nav-foot">
        <a class="nav-ftr nav-ftr-hom" href="/">Home</a>
        <a class="nav-ftr nav-ftr-abt" href="/blog/">Blog</a>
        <a class="nav-ftr nav-ftr-abt" href="/about">About</a>
        <a class="nav-ftr nav-ftr-cnt" href="/contact">Contact</a>
        <a class="nav-ftr nav-ftr-inf" href="/info">Info</a>
    </div>
</footer>


        </div>
    </body>
</html>
